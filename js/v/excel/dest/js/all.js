const BuildTable=function(){const t=document.querySelector(".wraper-table");return class{constructor(t=[],e,n){this.DataArray=t,this.counterInitialTr=e,this.counterInitialTd=n}build(e,n){for(let r=0;r<n;r++){const n=document.createElement("tr");this.DataArray.push(n);for(let t=0;t<e;t++){const e=document.createElement("div");e.setAttribute("contenteditable",!0),e.id=t,e.className="row",n.appendChild(e)}t.appendChild(n)}}insertRow(){this.counterInitialTr+=1;const e=document.createElement("tr");this.DataArray.push(e);for(let t=0;t<this.counterInitialTd;t++){const n=document.createElement("div");n.setAttribute("contenteditable",!0),n.id=t,n.className="row",e.appendChild(n)}t.appendChild(e),this.valueInner()}insertColumn(){this.counterInitialTd+=1;for(let t=0;t<this.counterInitialTr;t++){const e=document.createElement("div");e.setAttribute("contenteditable",!0),e.id=this.counterInitialTd,e.className="row",this.DataArray[t].appendChild(e),this.valueInner()}}valueInner(){const t=[" ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","U","V","W","X","Y","Z"],e=this.DataArray[0].children;let n=1,r=1;for(let n=0;n<e.length;n++)if(e[n].innerHTML=t[n],e[n].style.cursor="pointer","undefined"==e[n].innerHTML){for(;t.length<=r;)r=-1,r++,e[n].innerHTML=`${t[r++]} - ${n}`,e[n].style.cursor="pointer";e[n].innerHTML=`${t[r++]}-${n}`,e[n].style.cursor="pointer"}for(let t=1;t<this.DataArray.length;t++)this.DataArray[t].firstChild.innerHTML=n++,this.DataArray[t].firstChild.style.cursor="pointer"}}}(),clearBtn=document.querySelector(".clear");let btnInfo=document.querySelector(".info");function modalFunction(){const t=document.createElement("h1"),e=document.createElement("p"),n=document.createElement("button"),r=document.createElement("button");n.innerHTML="Accept",r.innerHTML="Cancel",t.innerHTML="Attention!",e.innerHTML="Are you sure erase local storage?",createModal(t,e,n,r),n.addEventListener("click",function(){localStorage.clear(),window.location.replace("index.html")})}function modalInfo(){const t=document.createElement("h1"),e=document.createElement("p"),n=document.createElement("button"),r=document.createElement("button");n.style.display="none",r.innerHTML="cerrar",t.innerHTML="welcome!",e.innerHTML="In this application can you erase or add row and columns. <br> You can modify text and save it.<br>Also you can save your data in localStorage and clear your data if you wish",createModal(t,e,n,r)}function createModal(t,e,n,r){const o=document.createElement("dialog");document.querySelector("html").appendChild(o),o.show(),e.classList="messageDialog",t.classList="titleDialog",o.classList="dialogPage",o.appendChild(t),o.appendChild(e),o.appendChild(n),o.appendChild(r),r.addEventListener("click",()=>{o.close()})}clearBtn.addEventListener("click",modalFunction),console.log(btnInfo),btnInfo.addEventListener("click",modalInfo);const utilitary=function(){const t=new BuildTable(void 0,10,10),e=document.querySelector(".btn-column"),n=document.querySelector(".btn-row"),r=document.querySelector(".bold-btn"),o=document.querySelector(".normal-btn"),l=document.querySelector("#select"),a=document.querySelector(".removeRows"),c=document.querySelector(".removeColumn"),i=document.querySelector(".save");document.querySelectorAll(".option");function s(t){function e(){for(let e=0;e<t.length;e++)for(const n of t[e].children)n.style.opacity="1",n.style.color="black",n.style.background="transparent"}!function(){for(const n of t[0].children)n.addEventListener("click",function(n){e();for(let e=0;e<t.length;e++)for(const r of t[e].children){let o=t[0].children,l=t[e].children;const a=Array.from(l),i=Array.from(o);a.indexOf(r)==i.indexOf(n.target)&&(c.style.display="block",r.style.backgroundColor="black",r.style.color="rgb(4, 152, 172)",r.style.opacity="0.15",c.addEventListener("click",()=>{"0.15"==r.style.opacity&&r.remove(),c.style.display="none"}))}})}()}function d(t){function e(e){!function(){for(const e of t)e.style.opacity="1",e.style.background="transparent",e.style.color="black"}();const n=e.target.parentNode;a.style.display="block",n.style.backgroundColor="black",n.firstChild.style.color="rgb(4, 152, 172)",n.style.opacity="0.15",a.addEventListener("click",()=>{"0.15"==n.style.opacity&&(a.style.display="none",n.remove())})}for(const n of t)n.firstChild.addEventListener("click",e)}function u(t){function e(e){!function(){for(const e of t)for(const t of e.children)t.setAttribute("boolean",!1),t.style.color="black"}();let n=e.target;n.setAttribute("boolean",!0),n.style.color="rgb(4, 152, 172)",r.style.display="block",o.style.display="block",l.style.display="block",r.addEventListener("click",()=>{"rgb(4, 152, 172)"==n.style.color&&(n.style.fontWeight="bold")}),o.addEventListener("click",()=>{"rgb(4, 152, 172)"==n.style.color&&(n.style.fontWeight="normal")}),l.addEventListener("change",t=>{"rgb(4, 152, 172)"==n.style.color&&(n.style.fontSize=t.target.value)})}for(const n of t)for(const t of n.children)t.addEventListener("click",e)}function y(t){t.build(t.counterInitialTd,t.counterInitialTr),t.valueInner(),u(t.DataArray),d(t.DataArray),s(t.DataArray),c.addEventListener("click",()=>{t.counterInitialTd--}),n.addEventListener("click",()=>{!function(t){t.insertRow(),u(t.DataArray),d(t.DataArray),s(t.DataArray)}(t)}),e.addEventListener("click",()=>{!function(t){t.insertColumn(),u(t.DataArray),d(t.DataArray),s(t.DataArray)}(t)}),i.addEventListener("click",()=>{!function(t){const e=[];for(let n=0;n<t.DataArray.length;n++){const r=[];for(const e of t.DataArray[n].children)r.push(e.innerHTML);e.push(r),localStorage.setItem("myArray",JSON.stringify(e))}localStorage.setItem("counterInitialTd",JSON.stringify(t.counterInitialTd)),localStorage.setItem("counterInitialTr",JSON.stringify(t.counterInitialTr))}(t)})}window.addEventListener("load",function(){let e=localStorage.getItem("myArray");e=JSON.parse(e);let n=localStorage.getItem("counterInitialTr");n=JSON.parse(n);let r=localStorage.getItem("counterInitialTd");if(r=JSON.parse(r),null==n)y(t);else{let t;const o=new BuildTable(t,n,r);y(o);const l=[];for(let t=0;t<o.DataArray.length;t++){const n=[];for(const e of o.DataArray[t].children)n.push(e);l.push(n);for(let n=0;n<e[t].length;n++)l[t][n].innerHTML=e[t][n]}}})}();